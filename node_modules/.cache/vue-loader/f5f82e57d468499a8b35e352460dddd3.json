{"remainingRequest":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Maxim\\Desktop\\LastVersion\\src\\components\\Frequentation.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\src\\components\\Frequentation.vue","mtime":1579126969707},{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Maxim\\Desktop\\LastVersion\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi51aSAuY29udGFpbmVyew0KICB3aWR0aDogYXV0bzsNCn0NCi5lbGVtZW50IHsNCiAgZGlzcGxheTogZ3JpZDsNCiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiA0ZnIgN2ZyOw0KfQ0KaDF7DQogIHRleHQtYWxpZ24gOiBjZW50ZXI7DQp9DQoNCg0K"},{"version":3,"sources":["Frequentation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Frequentation.vue","sourceRoot":"src/components","sourcesContent":["<!--\r\nComposant s'occupant du traitement des données à transmettre aux deux graphes de l'onglet fréquentation\r\n-->\r\n<template>\r\n  <div  class=\"ui container\">\r\n    <div\r\n      class=\"\"\r\n      v-for=\"gare in datafrequentation\"\r\n      :key=\"gare.msg\"\r\n    >\r\n   \r\n      <div>\r\n      \r\n     \r\n\r\n        <canvas  class=\"graph\" id=\"planet-chart\"></canvas>\r\n        <hr>\r\n        <canvas  class=\"graph\" id=\"bar-chart\"></canvas>\r\n       \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport Chart from \"chart.js\";\r\nimport store from \"../store/index.js\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Frequentation\",\r\n  data: function() {\r\n    return {\r\n      show : true,\r\n      freq: true\r\n    };\r\n  },\r\n  computed: mapState([\"datafrequentation\"]),\r\n  mounted: function() {\r\n   \r\n    try {\r\n      \r\n    let department = store.state.departementmap;\r\n    //let currentname = store.state.currentGarename;\r\n    let departementfrequentation = store.state.departementfrequentation;\r\n    let uic = store.state.uicgare;\r\n    // eslint-disable-next-line no-unused-vars\r\n    let datadepartement = departementfrequentation.get(department.get(uic));\r\n    let datanational = store.state.nationalfrequentation;\r\n      let lab = store.state.datafrequentation;\r\n      let dataf = lab\r\n        .values()\r\n        .next()\r\n        .value.values();\r\n      let data1 = dataf.next().value;\r\n      let data2 = dataf.next().value;\r\n      let data3 = dataf.next().value;\r\n      let data4 = dataf.next().value;\r\n      let planetChartData = this.filldataplanetchart(\r\n        data1,\r\n        data2,\r\n        data3,\r\n        data4,\r\n        dataf\r\n      );\r\n      let barchart = this.fillbarchart(\r\n        data1,\r\n        data2,\r\n        data3,\r\n        data4,\r\n        datadepartement,\r\n        datanational\r\n      );\r\n      this.createChart(\"bar-chart\", barchart);\r\n      \r\n      // eslint-disable-next-line no-console\r\n      this.createChart(\"planet-chart\", planetChartData);\r\n    } catch (error) {\r\n      document.getElementById(\"feedback\").innerHTML +=\r\n        \"Fréquentation de la gare non disponible\";\r\n      this.freq = false;\r\n    }\r\n  },\r\n  methods: {\r\n    fillbarchart(data1, data2, data3, data4, datadepartement,datanational) {\r\n      const barChartData = {\r\n      type: \"bar\",\r\n        data: {\r\n          labels: [\"Nombre de voyageurs en 2015\", \"Nombre de voyageurs en 2016\", \"Nombre de voyageurs en 2017\",\"Nombre de voyageurs en 2018\"],\r\n          datasets: [\r\n            {\r\n              // one line graph\r\n              label: \"Local\",\r\n\r\n              data: [data1, data2, data3, data4],\r\n              backgroundColor: [\r\n                \"#8BBCF0\",\r\n                \"#8BBCF0\",\r\n                \"#8BBCF0\",\r\n                \"#8BBCF0\",\r\n              ],\r\n              borderColor: [\"#8BBCF0\", \"#8BBCF0\", \"#8BBCF0\", \"#8BBCF0\"],\r\n              borderWidth: 3\r\n            },\r\n            {\r\n              // one line graph\r\n              label: \"Département\",\r\n\r\n              data: [\r\n                datadepartement.get(\"total_voyageurs_2015\"),\r\n                datadepartement.get(\"total_voyageurs_2016\"),\r\n                datadepartement.get(\"totalvoyageurs2017\"),\r\n                datadepartement.get(\"total_voyageurs_2018\")\r\n              ],\r\n              backgroundColor: [\r\n                \"rgba(54,73,93,.5)\", // Blue\r\n                \"rgba(54,73,93,.5)\",\r\n                \"rgba(54,73,93,.5)\",\r\n                \"rgba(54,73,93,.5)\"\r\n              ],\r\n              borderColor: [\"#36495d\", \"#36495d\", \"#36495d\", \"#36495d\"],\r\n              borderWidth: 3\r\n            },\r\n            {\r\n              // one line graph\r\n              label: \"National\",\r\n              hidden: true,\r\n              data: [\r\n                datanational.get(\"total_voyageurs_2015\"),\r\n                datanational.get(\"total_voyageurs_2016\"),\r\n                datanational.get(\"totalvoyageurs2017\"),\r\n                datanational.get(\"total_voyageurs_2018\")\r\n              ],\r\n              backgroundColor: [\r\n                \"#263442\", // Blue\r\n                \"#263442\",\r\n                \"#263442\",\r\n                \"#263442\"\r\n              ],\r\n              borderColor: [\"#263442\", \"#263442\", \"#263442\", \"#263442\"],\r\n              borderWidth: 3\r\n            }\r\n          ]\r\n        },\r\n        options: {\r\n          title: {\r\n            display: true,\r\n            fontColor: \"black\",\r\n            fontSize: 18,\r\n            text: \"Fréquentation des gares à l'échelle communale, départementale et nationale\"\r\n          },\r\n          legend: {\r\n            labels: {\r\n            display: true,\r\n            fontColor: \"black\",\r\n            fontSize: 18\r\n            }\r\n          },\r\n          responsive: true,\r\n          barValueSpacing: 20,\r\n          maintainAspectRatio: true,\r\n          scales: {\r\n            yAxes: [\r\n              {\r\n                ticks: {\r\n                  beginAtZero: true,\r\n                  padding: 25,\r\n                  \r\n                  \r\n            fontColor: \"black\",\r\n                }\r\n              }\r\n            ],\r\n            xAxes: [\r\n              {\r\n                ticks: {\r\n                  beginAtZero: true,\r\n                  padding: 25,\r\n                  \r\n                  \r\n            fontColor: \"black\",\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      };\r\n      return barChartData;\r\n    \r\n    },\r\n    filldataplanetchart(data1, data2, data3, data4, dataf) {\r\n      // oui\r\n\r\n      // eslint-disable-next-line no-unused-vars\r\n      const planetChartData = {\r\n        type: \"line\",\r\n        data: {\r\n          labels: [\"2015\", \"2016\", \"2017\", \"2018\"],\r\n          datasets: [\r\n            {\r\n              // one line graph\r\n              label: \"Nombre de voyageurs en fonction de l'année\",\r\n              data: [data1, data2, data3, data4],\r\n              backgroundColor: [\r\n                \"rgba(54,73,93,.5)\", // Blue\r\n                \"rgba(54,73,93,.5)\",\r\n                \"rgba(54,73,93,.5)\",\r\n                \"rgba(54,73,93,.5)\"\r\n              ],\r\n              borderColor: [\"#36495d\", \"#36495d\", \"#36495d\", \"#36495d\"],\r\n              borderWidth: 3\r\n            },\r\n            {\r\n              // one line graph\r\n              label: \"Nombre de voyageurs et de non-voyageurs en fonction de l'année\",\r\n              data: [\r\n                dataf.next().value,\r\n                dataf.next().value,\r\n                dataf.next().value,\r\n                dataf.next().value\r\n              ],\r\n              backgroundColor: [\r\n                \"rgba(54,73,93,.5)\", // Blue\r\n                \"rgba(54,73,93,.5)\",\r\n                \"rgba(54,73,93,.5)\",\r\n                \"rgba(54,73,93,.5)\"\r\n              ],\r\n              borderColor: [\"#36495d\", \"#36495d\", \"#36495d\", \"#36495d\"],\r\n              borderWidth: 3\r\n            }\r\n          ]\r\n        },\r\n        options: {\r\n          title: {\r\n            display: true,\r\n            fontColor: \"black\",\r\n            fontSize: 18,\r\n            text: \"Evolution de la fréquentation de la gare en fonction de l'année\"\r\n          },\r\n          legend: {\r\n            labels: {\r\n            display: true,\r\n            fontColor: \"black\",\r\n            fontSize: 18\r\n            }\r\n          },\r\n          responsive: true,\r\n          maintainAspectRatio: true,\r\n          lineTension: 1,\r\n          scales: {\r\n            yAxes: [\r\n              {\r\n                ticks: {\r\n                  beginAtZero: true,\r\n                  padding: 25,\r\n                  \r\n                  \r\n            fontColor: \"black\",\r\n                }\r\n              }\r\n            ],\r\n            xAxes: [\r\n              {\r\n                ticks: {\r\n                  beginAtZero: true,\r\n                  padding: 25,\r\n                  \r\n                  \r\n            fontColor: \"black\",\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      };\r\n      return planetChartData;\r\n    },\r\n    \r\n    createChart(chartId, chartData) {\r\n      const ctx = document.getElementById(chartId);\r\n      // eslint-disable-next-line no-console\r\n      console.log(chartData);\r\n\r\n      // eslint-disable-next-line no-unused-vars\r\n      const myChart = new Chart(ctx, {\r\n        type: chartData.type,\r\n        data: chartData.data,\r\n        options: chartData.options\r\n        \r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style type=\"text/css\">\r\n.ui .container{\r\n  width: auto;\r\n}\r\n.element {\r\n  display: grid;\r\n  grid-template-columns: 4fr 7fr;\r\n}\r\nh1{\r\n  text-align : center;\r\n}\r\n\r\n\r\n</style>\r\n"]}]}